<!DOCTYPE html>

<html ng-app="inboxApp">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="{baseURL}/static/css/inbox.css" />
    <link rel="shortcut icon" href="{baseURL}/static/img/ico/icon_48.ico">
    <title>Medic Mobile: Inbox</title>
  </head>
  <body ng-controller="MessageCtrl">
    <div class="container-fluid action-container">
      <div class="row">
        <div class="inner">
          <div class="col-sm-4"></div>
          <div class="col-sm-8 column">
            <div class="actions">
              <a class="mm-icon mm-icon-inverse mm-icon-caption" href="#">
                <span class="fa fa-mail-reply"></span>
                <p>Reply</p>
              </a>
              <a class="mm-icon mm-icon-inverse mm-icon-caption" href="#">
                <span class="fa fa-pencil"></span>
                <p>Edit</p>
              </a>
              <a class="mm-icon mm-icon-inverse mm-icon-caption" href="#">
                <span class="fa fa-check-circle-o"></span>
                <p>Verify</p>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row header">
        <div class="inner">

          <a href="#">
            <div class="logo">
              <img alt="Medic" src="{baseURL}/static/img/medic-logo-light.svg" />
            </div>
          </a>

          <div class="welcome">
            <div>Medic Mobile</div>
            <div>INBOX</div>
          </div>

          <div class="extras">
            <a href="#" title="Send message">
              <div class="mm-icon mm-icon-nudge-up mm-icon-inverse">
                <span class="mm-icon-overlay mm-icon-overlay-before fa fa-plus-circle"></span>
                <span class="fa fa-envelope"></span>
              </div>
            </a>
            <a href="#" title="Send form">
              <div class="mm-icon mm-icon-nudge-up mm-icon-inverse">
                <span class="mm-icon-overlay mm-icon-overlay-before fa fa-plus-circle"></span>
                <span class="fa fa-list-alt"></span>
              </div>
            </a>
            <a href="#" title="Search">
              <div class="mm-icon mm-icon-inverse">
                <span class="fa fa-search"></span>
              </div>
            </a>

            <span class="dropdown">
              <a href="#" data-toggle="dropdown">
                <div class="mm-icon mm-icon-inverse">
                  <span class="fa fa-cog"></span>
                </div>
              </a>
              <ul role="menu" aria-labelledby="facility"
                class="dropdown-menu mm-dropdown-menu
                        mm-dropdown-menu-fullscreen mm-dropdown-menu-inverse">
                <li role="presentation">
                  <a role="menuitem" tabindex="-1" href="#">Edit Your User Profile</a>
                </li>
                <li role="presentation">
                  <a role="menuitem" tabindex="-1" href="#">Administrative Options</a>
                </li>
                <li role="presentation">
                  <a role="menuitem" tabindex="-1" href="#">Log Out</a>
                </li>
              </ul>
            </span>
          </div>

          <div class="tabs">
            <a href="#" ng-click="setFilterType('message')" class="selected">
              <div class="mm-icon">
                <span class="fa fa-envelope"></span>
                <span class="mm-badge-overlay mm-badge-overlay-top">
                  <span class="mm-badge mm-badge-red mm-badge-border">405</span>
                </span>
              </div>
              <div class="button-label">Messages</div>
            </a>
            <a href="#" ng-click="setFilterType('form')">
              <div class="mm-icon mm-icon-inverse">
                <span class="fa fa-list-alt"></span>
                <span class="mm-badge-overlay mm-badge-overlay-top">
                  <span class="mm-badge mm-badge-red mm-badge-border">15</span>
                </span>
              </div>
              <div class="button-label">Forms</div>
            </a>
            <a href="#" ng-click="setFilterType('reporting')">
              <div class="mm-icon mm-icon-inverse">
                <span class="fa fa-bar-chart-o"></span>
              </div>
              <div class="button-label">Reports</div>
            </a>
          </div>
        </div>
      </div>

      <div class="row filters">
        <div class="inner">

          <span class="dropdown mm-dropdown slide-back">
            <span id="back" class="mm-button mm-button-disabled mm-button-nudge-down">
              <span class="mm-button-icon">
                <span class="fa fa-chevron-left"></span>
              </span>
              <span class="mm-button-text">Back</span>
            </span>
          </span>

          <span id="formTypeDropdown" class="dropdown mm-dropdown mm-multiple-select" data-label-no-filter="All form types" data-filter-label="form types">
            <span id="form_type" class="mm-button mm-button-nudge-down" data-toggle="dropdown" ng-class="{'mm-button-disabled': filterType === 'message', disabled: filterType === 'message'}">
              <span class="mm-button-icon">
                <span class="fa fa-list-alt"></span>
              </span>
              <span class="mm-button-dropdown">
                <span class="fa fa-chevron-down"></span>
              </span>
              <span class="mm-button-text"></span>
            </span>
            <ul role="menu" aria-labelledby="report"
              class="dropdown-menu mm-dropdown-menu mm-dropdown-menu-inverse">
              <li role="presentation" ng-repeat="form in forms">
                <a role="menuitem" tabindex="-1" href="#" data-form="{~lb}{~lb}form{~rb}{~rb}">
                  {~lb}{~lb}form.name{~rb}{~rb}
                </a>
              </li>
            </ul>
          </span>

          <span class="dropdown mm-dropdown">
            <span id="facility" class="mm-button" data-toggle="dropdown">
              <span class="mm-button-icon">
                <span class="fa fa-hospital-o"></span>
              </span>
              <span class="mm-button-dropdown">
                <span class="fa fa-chevron-down"></span>
              </span>
              <span class="mm-button-text">
                Ganze Health Clinic
              </span>
            </span>
            <ul role="menu" aria-labelledby="facility"
              class="dropdown-menu mm-dropdown-menu mm-dropdown-menu-inverse">

              <li role="presentation">
                <a role="menuitem" tabindex="-1" href="#">Chicago General Hospital</a>
              </li>
              <li role="presentation">
                <a role="menuitem" tabindex="-1" href="#">Ganze Health Clinic</a>
              </li>
              <li role="presentation">
                <a role="menuitem" tabindex="-1" href="#">Portland Intensive Care</a>
              </li>
              <li role="presentation">
                <a role="menuitem" tabindex="-1" href="#">Toronto Urgent Care</a>
              </li>
              <li role="presentation">
                <a role="menuitem" tabindex="-1" href="#">Zanzibar Health Post</a>
              </li>
            </ul>
          </span>

          <span class="dropdown mm-dropdown pair-left">
            <span id="date-from" class="mm-button" data-date="2014-02-02" data-date-format="yyyy-mm-dd">
              <span class="mm-button-dropdown">
                <span class="fa fa-chevron-down"></span>
              </span>
              <span class="mm-button-text">
                2 Feb 2014
              </span>
            </span>
          </span><!--
          comment required to keep dropdowns flush
          --><span class="dropdown mm-dropdown pair-right">
            <span id="date-to" class="mm-button" data-date="2014-02-10" data-date-format="yyyy-mm-dd">
              <span class="mm-button-dropdown">
                <span class="fa fa-chevron-down"></span>
              </span>
              <span class="mm-button-text">
                10 Feb 2014
              </span>
            </span>
          </span>

          <span class="dropdown mm-dropdown">
            <span id="status" class="mm-button" data-toggle="dropdown" ng-class="{'mm-button-disabled': filterType === 'message', disabled: filterType === 'message'}">
              <span class="mm-button-icon">
                <span class="fa fa-check-circle-o"></span>
              </span>
              <span class="mm-button-dropdown">
                <span class="fa fa-chevron-down"></span>
              </span>
              <span class="mm-button-text">
                Valid Only
              </span>
            </span>
            <ul role="menu" aria-labelledby="status"
              class="dropdown-menu mm-dropdown-menu mm-dropdown-menu-inverse">
              <li role="presentation">
                <a role="menuitem" tabindex="-1" href="#">Any</a>
              </li>
              <li role="presentation">
                <a role="menuitem" tabindex="-1" href="#">Valid</a>
              </li>
              <li role="presentation">
                <a role="menuitem" tabindex="-1" href="#">Invalid</a>
              </li>
            </ul>
          </span>


          <span class="filter-actions">
            <a href="#" title="Download messages matching these filters">
              <span class="mm-button">
                <span class="mm-button-icon">
                  <span class="fa fa-arrow-down"></span>
                </span>
              </span>
            </a>
          </span>
        </div>
      </div>

      <div class="row content">
        <div class="inner">
          <div class="inbox">
            <div class="col-sm-4 inbox-items">
              <ul>
                <li ng-repeat="message in messages | filter:checkFilter()" ng-click="setMessage(message._id)" data-record-id="{~lb}{~lb}message._id{~rb}{~rb}">
                  <span class="time" ng-bind-html="message.reported_date | relativeDate"></span>
                  <span class="mm-badge mm-badge-round mm-badge-border" ng-class="message.errors.length ? 'mm-badge-red' : 'mm-badge-green'">
                    <span class="fa"></span>
                  </span>
                  <div class="detail">
                    <div class="sender">
                      <div class="name">{~lb}{~lb}message.related_entities.clinic.contact.name{~rb}{~rb}</div>
                      <div class="position">{~lb}{~lb}message.related_entities.clinic.name{~rb}{~rb}</div>
                    </div>
                    <div>{~lb}{~lb}message.form{~rb}{~rb}{~lb}{~lb}message.sms_message.message{~rb}{~rb}</div>
                  </div>
                </li>
              </ul>
            </div>

            <div class="col-sm-8 item-content">
              <div>
                <div class="meta">
                  <span class="time" ng-bind-html="selected.reported_date | relativeDate"></span>
                  <div class="sender">
                    <div class="name">{~lb}{~lb}selected.related_entities.clinic.contact.name{~rb}{~rb}</div>
                    <div class="position">{~lb}{~lb}selected.related_entities.clinic.name{~rb}{~rb}</div>
                  </div>
                </div>
                <div class="status">
                  <span class="mm-badge mm-badge-round mm-badge-border" ng-class="selected.errors.length ? 'mm-badge-red' : 'mm-badge-green'">
                    <span class="fa"></span>
                  </span>
                </div>
                <div class="body">
                  <h2>{~lb}{~lb}selected.form{~rb}{~rb}</h2>
                  <ul>
                    <li>
                      <label>Patient ID</label>
                      <p>548912254</p>
                    </li>
                    <li>
                      <label>Days Since Delivery</label>
                      <p>5</p>
                    </li>
                    <li class="missing">
                      <label>Physician Present?</label>
                      <p>Not Recorded</p>
                    </li>
                    <li>
                      <label>Date of Delivery</label>
                      <p>June 7<sup>th</sup>, 2014</p>
                    </li>
                    <li>
                      <label>Misoprostol Administered?</label>
                      <p>Yes</p>
                    </li>
                    <li>
                      <label>Birth Outcome</label>
                      <p>Alive and well</p>
                    </li>
                    <li>
                      <label>Date Submitted</label>
                      <p>June 12<sup>th</sup>, 2014</p>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="{baseURL}/static/js/jquery.min.js" type="text/javascript"></script>
    <script src="{baseURL}/static/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="{baseURL}/static/js/bootstrap-datepicker.js" type="text/javascript"></script>
    <script src="{baseURL}/static/js/moment.min.js" type="text/javascript"></script>
    <script src="{baseURL}/static/js/angular.min.js" type="text/javascript"></script>
    <script src="{baseURL}/static/js/angular-resource.min.js" type="text/javascript"></script>
    <script src="{baseURL}/static/js/angular-sanitize.min.js" type="text/javascript"></script>
    <script src="{baseURL}/static/js/controllers.js" type="text/javascript"></script>
    <script src="{baseURL}/static/js/services.js" type="text/javascript"></script>
    <script src="{baseURL}/static/js/inbox.js" type="text/javascript"></script>

  </body>
</html>
